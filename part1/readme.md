# Часть 1 - "Что такое инстанс и самая примитивная среда обитания"

## Необходимые материалы

В данном репозитории будет не только теоретический, но и практический материал, поэтому его необходимо склонировать на свой компьютер и следовать инструкциям. Для этого выполните команду:

```sh
git clone git@github.com:gently-whitesnow/where-do-the-apps-live.git
```

## Работа через консоль и пакетные менеджеры (Windows и macOS)

В этом курсе мы будем работать через командную строку, используя пакетные менеджеры. Это позволит нам устанавливать и управлять программами без необходимости вручную загружать файлы и проходить сложные установки.

## Что такое пакетный менеджер

Пакетный менеджер — это инструмент, который облегчает установку, обновление и удаление программ. Он позволяет устанавливать программы одной командой и следит за их зависимостями.

### Популярные пакетные менеджеры:

- **Windows**: [winget](https://learn.microsoft.com/en-us/windows/package-manager/winget/) (встроен в Windows 10 и 11)
- **macOS**: [Homebrew](https://brew.sh/)

## Как установить пакетный менеджер

### Windows (winget)

**winget** уже предустановлен в Windows 10 (2004+) и Windows 11. Чтобы проверить, установлен ли он, выполните:

```powershell
winget --version
```

Если команда не работает, установите [App Installer](https://www.microsoft.com/store/productId/9NBLGGH4NNS1) из Microsoft Store.

### macOS (Homebrew)

1. Открываем **Терминал**
2. Выполняем команду:
   ```sh
   /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
   ```
3. Проверяем установку:
   ```sh
   brew --version
   ```

## Установка Python через пакетный менеджер

Чтобы запускать приложения нам понадобится python, установим его через пакетный менеджер.

### Windows (winget)

```powershell
winget install Python.Python
```

### macOS (Homebrew)

```sh
brew install python
```

Проверяем установку Python:

```sh
python --version
```

(или `python3 --version`, если первая команда не сработала)

## Навигация по файловой системе через консоль

### Windows (cmd/PowerShell) и macOS (Терминал)

- Узнать текущую папку:
  ```sh
  pwd
  ```
- Перейти в папку:
  ```sh
  cd имя_папки
  ```
- Подняться на уровень выше:
  ```sh
  cd ..
  ```
- Подняться на два уровня выше:
  ```sh
  cd ../..
  ```
- Создать папку:
  ```sh
  mkdir test_folder
  ```
- Перейти в созданную папку:
  ```sh
  cd test_folder
  ```

## Запуск первого приложения `hello.py`

В папке `part1` лежит файл `hello.py`, который выводит в консоль строку "Hello, world!". Запустим его:

```sh
python hello.py
```

Ожидаемый результат:

```
Hello, world!
```

Отлично, приложение работает и среда настроена правильно!

## Описание приложения `server.py`

В файле `server.py` находится простой веб-сервер, который имеет метод `/hello`, который обрабатывает GET-запросы и отправляет в ответ строку "Hello, world!".

## Запуск `server.py`

```sh
python server.py
```

Если всё работает правильно, сервер запустится, и в терминале появится сообщение:

```
Server running on http://localhost:1234
```

Откройте браузер и перейдите по адресу `http://localhost:1234/hello`, чтобы увидеть сообщение от сервера.

### Остановка сервера в Windows и macOS

#### 1. **Остановка с помощью сочетания клавиш** (универсальный метод)

Просто нажмите **`Ctrl + C`** в терминале, где запущен сервер.

## Что такое инстанс?

Инстанс — это запущенный экземпляр программы. В данном случае, когда мы запускаем `server.py`, создаётся инстанс веб-сервера, который работает, пока не будет остановлен.

## Правим приложение `server.py`

Добавим обработку запросов:

```python
from http.server import BaseHTTPRequestHandler, HTTPServer

class SimpleHandler(BaseHTTPRequestHandler):
    def do_GET(self):
        self.send_response(200)
        self.send_header('Content-type', 'text/html')
        self.end_headers()
        self.wfile.write(b'<h1>Hello, Tester!</h1>')

host = 'localhost'
port = 8000
server = HTTPServer((host, port), SimpleHandler)
print(f'Server running on {host}:{port}')
server.serve_forever()
```

Запускаем снова:

```sh
python server.py
```

Открываем `http://localhost:8000/` в браузере и видим `Hello, Tester!`.

## Крашим приложение `server.py`

Закроем терминал с запущенным сервером. Теперь сервер перестал работать — это пример падения инстанса.

Можно также принудительно завершить процесс:

### Windows (PowerShell)

```powershell
Get-Process -Name python | Stop-Process -Force
```

### macOS (Терминал)

```sh
pkill -f server.py
```

Теперь сервер не работает, пока мы не запустим его заново.

## Контрольные вопросы

1. Что такое пакетный менеджер, и зачем он нужен?
2. Как установить пакетный менеджер в Windows и macOS?
3. Как установить Python через пакетный менеджер?
4. Как перемещаться по файловой системе в терминале?
5. Как запустить `hello.py`?
6. Что делает `server.py`?
7. Что такое инстанс?
8. Как можно принудительно остановить сервер?

На этом первая часть завершена!
